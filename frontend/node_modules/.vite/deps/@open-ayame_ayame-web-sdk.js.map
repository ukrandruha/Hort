{
  "version": 3,
  "sources": ["../../.pnpm/@open-ayame+ayame-web-sdk@2025.1.1/node_modules/@open-ayame/ayame-web-sdk/dist/ayame.mjs"],
  "sourcesContent": ["/**\n * @open-ayame/ayame-web-sdk\n * WebRTC Signaling Server Ayame Web SDK\n * @version: 2025.1.1\n * @author: Shiguredo Inc.\n * @license: Apache-2.0\n **/\nconst h = \"2025.1.1\";\nfunction l() {\n  const a = window.navigator.userAgent.toLocaleLowerCase();\n  return a.indexOf(\"edge\") !== -1 ? \"edge\" : a.indexOf(\"chrome\") !== -1 && a.indexOf(\"edge\") === -1 ? \"chrome\" : a.indexOf(\"safari\") !== -1 && a.indexOf(\"chrome\") === -1 ? \"safari\" : a.indexOf(\"opera\") !== -1 ? \"opera\" : a.indexOf(\"firefox\") !== -1 ? \"firefox\" : \"unknown\";\n}\nfunction f(a, e) {\n  let t = \"\";\n  window.performance && (t = `[Ayame ${(window.performance.now() / 1e3).toFixed(3)}]`), l() === \"edge\" ? console.log(`${t} ${a}\n`, e) : console.info(`${t} ${a}\n`, e);\n}\nconst p = (a, e, t) => t.filter((s) => {\n  const i = s.mimeType.toLowerCase();\n  return i === e.toLowerCase() || i === `${a}/rtx` || i === `${a}/red` || i === `${a}/ulpfec`;\n}), u = (a, e) => {\n  if (typeof RTCRtpSender > \"u\" || typeof RTCRtpReceiver > \"u\")\n    return [];\n  const t = e === \"sender\" || e === \"receiver\" ? RTCRtpSender.getCapabilities : RTCRtpReceiver.getCapabilities;\n  if (typeof t != \"function\")\n    return [];\n  const n = t(a)?.codecs;\n  return n ? n.filter((s) => {\n    const i = s.mimeType.toLowerCase();\n    return !(i === `${a}/rtx` || i === `${a}/red` || i === `${a}/ulpfec`);\n  }).filter((s, i, o) => i === o.findIndex((c) => c.mimeType === s.mimeType)).map((s) => s.mimeType).sort() : [];\n};\nclass r {\n  debug;\n  roomId;\n  signalingUrl;\n  options;\n  connectionState;\n  stream;\n  remoteStream;\n  authnMetadata;\n  authzMetadata;\n  ws;\n  pc;\n  callbacks;\n  isOffer;\n  isExistUser;\n  dataChannels;\n  pcConfig;\n  get webSocket() {\n    return this.ws;\n  }\n  get peerConnection() {\n    return this.pc;\n  }\n  // biome-ignore lint/complexity/noBannedTypes: <explanation>\n  on(e, t) {\n    e in this.callbacks && (this.callbacks[e] = t);\n  }\n  /**\n   * オブジェクトを生成し、リモートのピアまたはサーバーに接続します。\n   */\n  constructor(e, t, n, s = !1, i = !1) {\n    this.debug = s, this.roomId = t, this.signalingUrl = e, this.options = n, this.stream = null, this.remoteStream = null, this.pc = null, this.ws = null, this.authnMetadata = null, this.authzMetadata = null, this.dataChannels = [], this.isOffer = !1, this.isExistUser = !1, this.connectionState = \"new\", this.pcConfig = {\n      iceServers: this.options.iceServers,\n      iceTransportPolicy: i ? \"relay\" : \"all\"\n    }, this.callbacks = {\n      open: () => {\n      },\n      connect: () => {\n      },\n      disconnect: () => {\n      },\n      addstream: () => {\n      },\n      bye: () => {\n      },\n      datachannel: () => {\n      }\n    };\n  }\n  /**\n   * 接続する\n   */\n  async connect(e, t = null) {\n    if (this.ws)\n      throw this.traceLog(\"WebSocket Already Exists!\"), new Error(\"WebSocket Already Exists!\");\n    if (this.pc)\n      throw this.traceLog(\"RTCPeerConnection already exists\"), new Error(\"RTCPeerConnection Already Exists!\");\n    this.stream = e, t && (this.authnMetadata = t.authnMetadata), await this.signaling();\n  }\n  /**\n   * 接続を切断する\n   */\n  async disconnect() {\n    for (const e of this.dataChannels)\n      await this.closeDataChannel(e);\n    await Promise.all([this.closePeerConnection(), this.closeWebSocketConnection()]), this.authzMetadata = null, this.isOffer = !1, this.isExistUser = !1, this.dataChannels = [], this.connectionState = \"new\";\n  }\n  /**\n   * 統計情報を取得する\n   */\n  async getStats() {\n    if (!this.pc)\n      throw new Error(\"PeerConnection is not ready\");\n    return await this.pc.getStats();\n  }\n  async signaling() {\n    return new Promise((e, t) => {\n      if (this.ws)\n        return t(\"WS-ALREADY-EXISTS\");\n      this.ws = new WebSocket(this.signalingUrl), this.ws.onclose = async () => {\n        if (!this.options.standalone)\n          return await this.disconnect(), this.callbacks.disconnect({ reason: \"WS-CLOSED\" }), t(\"WS-CLOSED\");\n      }, this.ws.onerror = async () => (await this.disconnect(), t(\"WS-CLOSED-WITH-ERROR\")), this.ws.onopen = () => {\n        const n = {\n          type: \"register\",\n          roomId: this.roomId,\n          clientId: this.options.clientId,\n          authnMetadata: void 0,\n          key: void 0,\n          standalone: this.options.standalone\n        };\n        this.authnMetadata !== null && (n.authnMetadata = this.authnMetadata), this.options.signalingKey !== null && (n.key = this.options.signalingKey), this.sendWs(n), this.ws && (this.ws.onmessage = async (s) => {\n          try {\n            if (typeof s.data != \"string\")\n              return;\n            const i = JSON.parse(s.data);\n            if (i.type === \"ping\")\n              this.sendWs({ type: \"pong\" });\n            else {\n              if (i.type === \"bye\")\n                return this.callbacks.bye(s), e();\n              if (i.type === \"accept\")\n                return this.authzMetadata = i.authzMetadata, Array.isArray(i.iceServers) && i.iceServers.length > 0 && (this.traceLog(\"iceServers=>\", i.iceServers), this.pcConfig.iceServers = i.iceServers), this.traceLog(\"isExistUser=>\", i.isExistUser), this.isExistUser = i.isExistUser, this.createPeerConnection(), this.isExistUser === !0 && await this.sendOffer(), e();\n              if (i.type === \"reject\")\n                return await this.disconnect(), this.callbacks.disconnect({ reason: i.reason || \"REJECTED\" }), t(\"REJECTED\");\n              if (i.type === \"offer\")\n                this.pc && this.pc.signalingState === \"have-local-offer\" && this.createPeerConnection(), this.setOffer(new RTCSessionDescription(i));\n              else if (i.type === \"answer\")\n                await this.setAnswer(new RTCSessionDescription(i));\n              else if (i.type === \"candidate\" && i.ice) {\n                this.traceLog(\"Received ICE candidate ...\", i.ice);\n                const o = new RTCIceCandidate(i.ice);\n                this.addIceCandidate(o);\n              }\n            }\n          } catch (i) {\n            await this.disconnect(), this.callbacks.disconnect({ reason: \"SIGNALING-ERROR\", error: i });\n          }\n        });\n      };\n    });\n  }\n  async removeDataChannel(e) {\n    const t = this.findDataChannel(e);\n    if (t && t.readyState === \"open\")\n      await this.closeDataChannel(t);\n    else\n      throw new Error(\"data channel is not exist or open\");\n  }\n  setCodecPreferences(e, t, n, s) {\n    if (this.traceLog(`${e} codecMimeType=`, t), !n.codecs.some((o) => o.mimeType === t) || typeof s.setCodecPreferences != \"function\")\n      return;\n    let i = [];\n    i = p(e, t, n.codecs), this.traceLog(`${e} codecs=`, i), s.setCodecPreferences(i);\n  }\n  createPeerConnection() {\n    this.traceLog(\"RTCConfiguration=>\", this.pcConfig);\n    const e = new RTCPeerConnection(this.pcConfig);\n    if (this.stream && this.options.audio.direction !== \"recvonly\") {\n      const t = this.stream.getAudioTracks();\n      if (t.length > 0) {\n        const n = t[0], s = e.addTrack(n, this.stream), i = this.getTransceiver(e, s);\n        i && (i.direction = this.options.audio.direction);\n        const o = RTCRtpSender.getCapabilities(\"audio\");\n        this.options.audio.enabled && this.options.audio.codecMimeType !== void 0 && i !== null && o !== null && this.setCodecPreferences(\n          \"audio\",\n          this.options.audio.codecMimeType,\n          o,\n          i\n        );\n      }\n    } else if (this.options.audio.enabled) {\n      const t = e.addTransceiver(\"audio\", {\n        direction: this.options.audio.direction\n      }), n = RTCRtpReceiver.getCapabilities(\"audio\");\n      this.options.audio.enabled && this.options.audio.codecMimeType !== void 0 && n !== null && this.setCodecPreferences(\n        \"audio\",\n        this.options.audio.codecMimeType,\n        n,\n        t\n      );\n    }\n    if (this.stream && this.options.video.direction !== \"recvonly\") {\n      const t = this.stream.getVideoTracks();\n      if (t.length > 0) {\n        const n = t[0], s = e.addTrack(n, this.stream), i = this.getTransceiver(e, s);\n        i && (i.direction = this.options.video.direction);\n        const o = RTCRtpSender.getCapabilities(\"video\");\n        this.options.video.enabled && this.options.video.codecMimeType !== void 0 && i !== null && o !== null && this.setCodecPreferences(\n          \"video\",\n          this.options.video.codecMimeType,\n          o,\n          i\n        );\n      }\n    } else if (this.options.video.enabled) {\n      const t = e.addTransceiver(\"video\", {\n        direction: this.options.video.direction\n      }), n = RTCRtpReceiver.getCapabilities(\"video\");\n      this.options.video.enabled && this.options.video.codecMimeType !== void 0 && t !== null && n !== null && this.setCodecPreferences(\n        \"video\",\n        this.options.video.codecMimeType,\n        n,\n        t\n      );\n    }\n    e.ontrack = (t) => {\n      if (this.remoteStream)\n        return;\n      this.traceLog(\"peer.ontrack()\", t), this.remoteStream = t.streams[0];\n      const n = {\n        type: \"addstream\",\n        stream: this.remoteStream\n      };\n      this.callbacks.addstream(n);\n    }, e.onicecandidate = (t) => {\n      this.traceLog(\"peer.onicecandidate()\", t), t.candidate ? this.sendIceCandidate(t.candidate) : this.traceLog(\"empty ice event\", \"\");\n    }, e.oniceconnectionstatechange = async () => {\n      if (this.traceLog(\"ICE connection Status has changed to \", e.iceConnectionState), this.connectionState !== e.iceConnectionState)\n        switch (this.connectionState = e.iceConnectionState, this.connectionState) {\n          case \"connected\":\n            this.isOffer = !1, this.callbacks.connect();\n            break;\n          case \"disconnected\":\n          case \"failed\":\n            await this.disconnect(), this.callbacks.disconnect({ reason: \"ICE-CONNECTION-STATE-FAILED\" });\n            break;\n        }\n    }, e.onconnectionstatechange = async (t) => {\n      e.connectionState === \"connected\" ? this.options.standalone && (this.sendWs({ type: \"connected\" }), this.ws && (this.traceLog(\"websocket is closed\"), this.ws.close(), this.ws = null)) : e.connectionState === \"closed\" && (this.traceLog(\"peer connection is closed\"), await this.disconnect());\n    }, e.onsignalingstatechange = (t) => {\n      this.traceLog(\"signaling state changes:\", e.signalingState);\n    }, e.ondatachannel = this.onDataChannel.bind(this), this.pc ? this.pc = e : (this.pc = e, this.callbacks.open({ authzMetadata: this.authzMetadata }));\n  }\n  async createDataChannel(e, t) {\n    return new Promise((n, s) => {\n      if (!this.pc) return s(\"PeerConnection Does Not Ready\");\n      if (this.isOffer) return s(\"PeerConnection Has Local Offer\");\n      let i = this.findDataChannel(e);\n      return i ? s(\"DataChannel Already Exists!\") : this.isExistUser ? (i = this.pc.createDataChannel(e, t), i.onclose = (o) => {\n        this.traceLog(\"datachannel onclosed=>\", o), this.dataChannels = this.dataChannels.filter((c) => c.label !== e);\n      }, i.onerror = (o) => {\n        this.traceLog(\"datachannel onerror=>\", o), this.dataChannels = this.dataChannels.filter((c) => c.label !== e);\n      }, i.onmessage = (o) => {\n        this.traceLog(\"datachannel onmessage=>\", o.data), o.label = e;\n      }, i.onopen = (o) => {\n        this.traceLog(\"datachannel onopen=>\", o);\n      }, this.dataChannels.push(i), n(i)) : n(null);\n    });\n  }\n  onDataChannel(e) {\n    if (this.traceLog(\"on data channel\", e), !this.pc) return;\n    const t = e.channel, n = e.channel.label;\n    e.channel && (!n || n.length < 1 || (t.onopen = async (s) => {\n      this.traceLog(\"datachannel onopen=>\", s);\n    }, t.onclose = async (s) => {\n      this.traceLog(\"datachannel onclosed=>\", s);\n    }, t.onerror = async (s) => {\n      this.traceLog(\"datachannel onerror=>\", s);\n    }, t.onmessage = (s) => {\n      this.traceLog(\"datachannel onmessage=>\", s.data), s.label = n;\n    }, this.findDataChannel(n) ? this.dataChannels = this.dataChannels.map((s) => s.label === n ? t : s) : this.dataChannels.push(e.channel), this.callbacks.datachannel(t)));\n  }\n  async sendOffer() {\n    if (!this.pc)\n      return;\n    const e = await this.pc.createOffer({\n      offerToReceiveAudio: this.options.audio.enabled && this.options.audio.direction !== \"sendonly\",\n      offerToReceiveVideo: this.options.video.enabled && this.options.video.direction !== \"sendonly\"\n    });\n    this.traceLog(\"create offer sdp, sdp=\", e.sdp), await this.pc.setLocalDescription(e), this.pc.localDescription && this.sendSdp(this.pc.localDescription), this.isOffer = !0;\n  }\n  isAudioCodecSpecified() {\n    return this.options.audio.enabled && this.options.audio.codecMimeType !== void 0;\n  }\n  isVideoCodecSpecified() {\n    return this.options.video.enabled && this.options.video.codecMimeType !== void 0;\n  }\n  async createAnswer() {\n    if (this.pc)\n      try {\n        const e = await this.pc.createAnswer();\n        this.traceLog(\"create answer sdp, sdp=\", e.sdp), await this.pc.setLocalDescription(e), this.pc.localDescription && this.sendSdp(this.pc.localDescription);\n      } catch (e) {\n        await this.disconnect(), this.callbacks.disconnect({ reason: \"CREATE-ANSWER-ERROR\", error: e });\n      }\n  }\n  async setAnswer(e) {\n    this.pc && (await this.pc.setRemoteDescription(e), this.traceLog(\"set answer sdp=\", e.sdp));\n  }\n  async setOffer(e) {\n    try {\n      if (!this.pc)\n        return;\n      await this.pc.setRemoteDescription(e), this.traceLog(\"set offer sdp=\", e.sdp), await this.createAnswer();\n    } catch (t) {\n      await this.disconnect(), this.callbacks.disconnect({ reason: \"SET-OFFER-ERROR\", error: t });\n    }\n  }\n  async addIceCandidate(e) {\n    try {\n      this.pc && await this.pc.addIceCandidate(e);\n    } catch {\n      this.traceLog(\"invalid ice candidate\", e);\n    }\n  }\n  sendIceCandidate(e) {\n    const t = { type: \"candidate\", ice: e };\n    this.sendWs(t);\n  }\n  sendSdp(e) {\n    this.sendWs(e);\n  }\n  sendWs(e) {\n    this.ws && this.ws.send(JSON.stringify(e));\n  }\n  getTransceiver(e, t) {\n    let n = null;\n    for (const s of e.getTransceivers())\n      (s.sender === t || s.receiver === t) && (n = s);\n    if (!n)\n      throw new Error(\"invalid transceiver\");\n    return n;\n  }\n  findDataChannel(e) {\n    return this.dataChannels.find((t) => t.label === e);\n  }\n  async closeDataChannel(e) {\n    return this.traceLog(\"close data channel\"), new Promise((t) => {\n      if (!e)\n        return this.traceLog(\"data channel is null\"), t();\n      if (e.readyState === \"closed\")\n        return this.traceLog(\"data channel is closed\"), t();\n      e.onclose = null;\n      const n = setInterval(() => {\n        if (e.readyState === \"closed\")\n          return clearInterval(n), this.traceLog(\"data channel is closed\"), t();\n      }, 200);\n      e.close();\n    });\n  }\n  async closePeerConnection() {\n    return this.traceLog(\"close peer connection\"), new Promise((e) => {\n      if (!this.pc)\n        return this.traceLog(\"peer connection is null\"), e();\n      if (this.pc.connectionState === \"closed\")\n        return this.pc = null, this.traceLog(\"peer connection is closed\"), e();\n      this.pc.oniceconnectionstatechange = null;\n      const t = setInterval(() => {\n        if (!this.pc)\n          return clearInterval(t), this.traceLog(\"peer connection is null\"), e();\n        if (this.pc.connectionState === \"closed\")\n          return this.pc = null, clearInterval(t), this.traceLog(\"peer connection is closed\"), e();\n      }, 200);\n      this.pc.close();\n    });\n  }\n  async closeWebSocketConnection() {\n    return new Promise((e) => {\n      if (!this.ws)\n        return this.traceLog(\"websocket is null\"), e();\n      if (this.ws && this.ws.readyState === WebSocket.CLOSED)\n        return this.ws = null, this.traceLog(\"websocket is closed\"), e();\n      this.ws.onclose = null;\n      const t = setInterval(() => {\n        if (!this.ws)\n          return clearInterval(t), this.traceLog(\"websocket is null\"), e();\n        if (this.ws.readyState === WebSocket.CLOSED)\n          return this.ws = null, clearInterval(t), this.traceLog(\"websocket is closed\"), e();\n      }, 200);\n      this.ws.close();\n    });\n  }\n  traceLog(e, t) {\n    this.debug && f(e, t);\n  }\n}\nconst d = {\n  audio: { direction: \"sendrecv\", enabled: !0 },\n  video: { direction: \"sendrecv\", enabled: !0 },\n  iceServers: [],\n  clientId: crypto.randomUUID()\n}, g = (a, e, t = d, n = !1, s = !1) => new r(a, e, t, n, s), C = (a, e, t = d, n = !1, s = !1) => new r(a, e, t, n, s), w = () => h;\nexport {\n  g as connection,\n  C as createConnection,\n  r as default,\n  d as defaultOptions,\n  u as getAvailableCodecs,\n  w as version\n};\n"],
  "mappings": "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",
  "names": []
}
